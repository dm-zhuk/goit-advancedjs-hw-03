{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY =\n  'live_Zuu1PB5DCXr8IC90o7QvjqwUwjyaEDC5Biv1MSecsCZxv5jxKZHuSX5mZ2ZjZp62';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst BREEDS_ENDPOINT = `${BASE_URL}/breeds`;\nconst IMAGES_ENDPOINT = `${BASE_URL}/images/search`;\n\naxios.defaults.headers.common['x-api-key'] = API_KEY;\n\nexport function fetchBreeds() {\n  return axios\n    .get(`${BREEDS_ENDPOINT}`)\n    .then(response => response.data)\n    .catch(error => console.error(error));\n}\n\nexport function fetchCatByBreed(breedId) {\n  return axios\n    .get(`${IMAGES_ENDPOINT}?breed_ids=${breedId}`)\n    .then(response => response.data)\n    .catch(error => console.error(error));\n}\n","import SlimSelect from 'slim-select';\nimport 'slim-select/styles';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst selector = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst catInfo = document.querySelector('.cat-info');\n\nfunction toggleClass(element, isVisible) {\n  element.classList.toggle('ss-hidden', !isVisible);\n}\n\nfunction selectorUpload() {\n  fetchBreeds()\n    .then(function (breeds) {\n      const slimSelector = breeds.map(\n        ({ id, name }) => `<option value=\"${id}\">${name}</option>`\n      );\n      selector.insertAdjacentHTML('afterbegin', slimSelector.join(''));\n      new SlimSelect({\n        select: selector,\n      });\n    })\n    .catch(function (error) {\n      onError();\n    })\n    .finally(function () {\n      toggleClass(loader, false);\n      toggleClass(catInfo, false);\n    });\n}\n\nfunction createMarkup(evt) {\n  toggleClass(catInfo, false);\n  toggleClass(loader, true);\n  toggleClass(selector, true);\n\n  const breedId = evt.currentTarget.value;\n\n  fetchCatByBreed(breedId)\n    .then(function (catData) {\n      const { url, breeds } = catData[0];\n\n      catInfo.innerHTML = `\n        <img class=\"cat-picture\" src=\"${url}\" alt=\"${breeds[0].name}\" width=\"400\" loading=\"lazy\" />\n        <div class=\"text-box\">\n          <h2>${breeds[0].name}</h2>\n          <p>${breeds[0].description}</p>\n          <p><b>Temperament: </b>${breeds[0].temperament}</p>\n          <p><b>Origin: </b>${breeds[0].origin}</p>\n        </div>`;\n    })\n    .catch(function (error) {\n      onError();\n    })\n    .finally(function () {\n      toggleClass(loader, false);\n      toggleClass(selector, true);\n      toggleClass(catInfo, true);\n    });\n}\n\nfunction onError() {\n  iziToast.error({\n    title: 'ðŸ”» Oops!',\n    message: 'Something went wrong! Try reloading the page!',\n    position: 'topCenter',\n    timeout: 1500,\n  });\n  toggleClass(loader, false);\n  toggleClass(selector, true);\n}\n\nselector.addEventListener('change', createMarkup);\nselectorUpload();\n"],"names":["API_KEY","BASE_URL","BREEDS_ENDPOINT","IMAGES_ENDPOINT","axios","fetchBreeds","response","error","fetchCatByBreed","breedId","selector","loader","catInfo","toggleClass","element","isVisible","selectorUpload","breeds","slimSelector","id","name","SlimSelect","onError","createMarkup","evt","catData","url","iziToast"],"mappings":"owBAEA,MAAMA,EACJ,wEACIC,EAAW,+BACXC,EAAkB,GAAGD,CAAQ,UAC7BE,EAAkB,GAAGF,CAAQ,iBAEnCG,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAIJ,EAEtC,SAASK,GAAc,CAC5B,OAAOD,EACJ,IAAI,GAAGF,CAAe,EAAE,EACxB,KAAKI,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACxC,CAEO,SAASC,EAAgBC,EAAS,CACvC,OAAOL,EACJ,IAAI,GAAGD,CAAe,cAAcM,CAAO,EAAE,EAC7C,KAAKH,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,QAAQ,MAAMA,CAAK,CAAC,CACxC,CChBA,MAAMG,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,WAAW,EAElD,SAASC,EAAYC,EAASC,EAAW,CACvCD,EAAQ,UAAU,OAAO,YAAa,CAACC,CAAS,CAClD,CAEA,SAASC,GAAiB,CACxBX,EAAa,EACV,KAAK,SAAUY,EAAQ,CACtB,MAAMC,EAAeD,EAAO,IAC1B,CAAC,CAAE,GAAAE,EAAI,KAAAC,KAAW,kBAAkBD,CAAE,KAAKC,CAAI,WACvD,EACMV,EAAS,mBAAmB,aAAcQ,EAAa,KAAK,EAAE,CAAC,EAC/D,IAAIG,EAAW,CACb,OAAQX,CAChB,CAAO,CACP,CAAK,EACA,MAAM,SAAUH,EAAO,CACtBe,GACN,CAAK,EACA,QAAQ,UAAY,CACnBT,EAAYF,EAAQ,EAAK,EACzBE,EAAYD,EAAS,EAAK,CAChC,CAAK,CACL,CAEA,SAASW,EAAaC,EAAK,CACzBX,EAAYD,EAAS,EAAK,EAC1BC,EAAYF,EAAQ,EAAI,EACxBE,EAAYH,EAAU,EAAI,EAE1B,MAAMD,EAAUe,EAAI,cAAc,MAElChB,EAAgBC,CAAO,EACpB,KAAK,SAAUgB,EAAS,CACvB,KAAM,CAAE,IAAAC,EAAK,OAAAT,CAAQ,EAAGQ,EAAQ,CAAC,EAEjCb,EAAQ,UAAY;AAAA,wCACcc,CAAG,UAAUT,EAAO,CAAC,EAAE,IAAI;AAAA;AAAA,gBAEnDA,EAAO,CAAC,EAAE,IAAI;AAAA,eACfA,EAAO,CAAC,EAAE,WAAW;AAAA,mCACDA,EAAO,CAAC,EAAE,WAAW;AAAA,8BAC1BA,EAAO,CAAC,EAAE,MAAM;AAAA,eAE9C,CAAK,EACA,MAAM,SAAUV,EAAO,CACtBe,GACN,CAAK,EACA,QAAQ,UAAY,CACnBT,EAAYF,EAAQ,EAAK,EACzBE,EAAYH,EAAU,EAAI,EAC1BG,EAAYD,EAAS,EAAI,CAC/B,CAAK,CACL,CAEA,SAASU,GAAU,CACjBK,EAAS,MAAM,CACb,MAAO,WACP,QAAS,gDACT,SAAU,YACV,QAAS,IACb,CAAG,EACDd,EAAYF,EAAQ,EAAK,EACzBE,EAAYH,EAAU,EAAI,CAC5B,CAEAA,EAAS,iBAAiB,SAAUa,CAAY,EAChDP,EAAgB"}