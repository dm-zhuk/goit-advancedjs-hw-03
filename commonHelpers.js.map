{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY =\n  'live_Zuu1PB5DCXr8IC90o7QvjqwUwjyaEDC5Biv1MSecsCZxv5jxKZHuSX5mZ2ZjZp62';\nconst BASE_URL = 'https://api.thecatapi.com/v1';\nconst BREEDS_ENDPOINT = `${BASE_URL}/breeds`;\nconst IMAGES_ENDPOINT = `${BASE_URL}/images/search?`;\n\naxios.defaults.headers.common['x-api-key'] = API_KEY;\n\nfunction fetchBreeds() {\n  return axios.get(`${BREEDS_ENDPOINT}`).then(response => response.data);\n}\n\nfunction fetchCatByBreed(breedId) {\n  return axios\n    .get(`${IMAGES_ENDPOINT}breed_ids=${breedId}`)\n    .then(response => response.data);\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import SlimSelect from 'slim-select';\nimport 'slim-select/styles';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\n\nconst selector = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst catInfo = document.querySelector('.cat-info');\nconst plainSelector = document.querySelector('.js-plain');\n\nfunction toggleClass(element, isVisible) {\n  element.classList.toggle('ss-hidden', !isVisible);\n}\n\nfunction selectorUpload() {\n  fetchBreeds()\n    .then(function (breeds) {\n      plainSelector.classList.remove('is-hidden');\n      const slimSelector = breeds.map(\n        ({ id, name }) => `<option value=\"${id}\">${name}</option>`\n      );\n      selector.insertAdjacentHTML('afterbegin', slimSelector.join(''));\n      new SlimSelect({\n        select: selector,\n      });\n    })\n    .catch(function (error) {\n      onError();\n    })\n    .finally(function () {\n      toggleClass(selector, true);\n      toggleClass(loader, false);\n      toggleClass(catInfo, true);\n    });\n}\n\nfunction createMarkup(evt) {\n  toggleClass(catInfo, false);\n  toggleClass(loader, true);\n  toggleClass(selector, true);\n\n  const breedId = evt.currentTarget.value;\n\n  fetchCatByBreed(breedId)\n    .then(function (catData) {\n      if (catData.length === 0) {\n        catInfo.innerHTML = ``;\n      }\n      const { url, breeds } = catData[0];\n\n      catInfo.innerHTML = `\n        <img src=\"${url}\" alt=\"${breeds[0].name}\" width=\"400\" loading=\"lazy\" />\n        <div class=\"text-box\">\n          <h2>${breeds[0].name}</h2>\n          <p>${breeds[0].description}</p>\n          <p><b>Temperament: </b>${breeds[0].temperament}</p>\n          <p><b>Origin: </b>${breeds[0].origin}</p>\n        </div>`;\n    })\n    .catch(function (error) {\n      onError();\n    })\n    .finally(function () {\n      toggleClass(loader, false);\n      toggleClass(selector, true);\n      toggleClass(catInfo, true);\n    });\n}\n\nfunction onError() {\n  iziToast.error({\n    title: 'ðŸ”» Oops!',\n    message: 'Something went wrong! Try reloading the page!',\n    position: 'topCenter',\n  });\n}\n\nselector.addEventListener('change', createMarkup);\nselectorUpload();\n"],"names":["API_KEY","BASE_URL","BREEDS_ENDPOINT","IMAGES_ENDPOINT","axios","fetchBreeds","response","fetchCatByBreed","breedId","selector","loader","catInfo","plainSelector","toggleClass","element","isVisible","selectorUpload","breeds","slimSelector","id","name","SlimSelect","error","onError","createMarkup","evt","catData","url","iziToast"],"mappings":"owBAEA,MAAMA,EACJ,wEACIC,EAAW,+BACXC,EAAkB,GAAGD,CAAQ,UAC7BE,EAAkB,GAAGF,CAAQ,kBAEnCG,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAIJ,EAE7C,SAASK,GAAc,CACrB,OAAOD,EAAM,IAAI,GAAGF,CAAe,EAAE,EAAE,KAAKI,GAAYA,EAAS,IAAI,CACvE,CAEA,SAASC,EAAgBC,EAAS,CAChC,OAAOJ,EACJ,IAAI,GAAGD,CAAe,aAAaK,CAAO,EAAE,EAC5C,KAAKF,GAAYA,EAAS,IAAI,CACnC,CCZA,MAAMG,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAgB,SAAS,cAAc,WAAW,EAExD,SAASC,EAAYC,EAASC,EAAW,CACvCD,EAAQ,UAAU,OAAO,YAAa,CAACC,CAAS,CAClD,CAEA,SAASC,GAAiB,CACxBX,EAAa,EACV,KAAK,SAAUY,EAAQ,CACtBL,EAAc,UAAU,OAAO,WAAW,EAC1C,MAAMM,EAAeD,EAAO,IAC1B,CAAC,CAAE,GAAAE,EAAI,KAAAC,KAAW,kBAAkBD,CAAE,KAAKC,CAAI,WACvD,EACMX,EAAS,mBAAmB,aAAcS,EAAa,KAAK,EAAE,CAAC,EAC/D,IAAIG,EAAW,CACb,OAAQZ,CAChB,CAAO,CACP,CAAK,EACA,MAAM,SAAUa,EAAO,CACtBC,GACN,CAAK,EACA,QAAQ,UAAY,CACnBV,EAAYJ,EAAU,EAAI,EAC1BI,EAAYH,EAAQ,EAAK,EACzBG,EAAYF,EAAS,EAAI,CAC/B,CAAK,CACL,CAEA,SAASa,EAAaC,EAAK,CACzBZ,EAAYF,EAAS,EAAK,EAC1BE,EAAYH,EAAQ,EAAI,EACxBG,EAAYJ,EAAU,EAAI,EAE1B,MAAMD,EAAUiB,EAAI,cAAc,MAElClB,EAAgBC,CAAO,EACpB,KAAK,SAAUkB,EAAS,CACnBA,EAAQ,SAAW,IACrBf,EAAQ,UAAY,IAEtB,KAAM,CAAE,IAAAgB,EAAK,OAAAV,CAAQ,EAAGS,EAAQ,CAAC,EAEjCf,EAAQ,UAAY;AAAA,oBACNgB,CAAG,UAAUV,EAAO,CAAC,EAAE,IAAI;AAAA;AAAA,gBAE/BA,EAAO,CAAC,EAAE,IAAI;AAAA,eACfA,EAAO,CAAC,EAAE,WAAW;AAAA,mCACDA,EAAO,CAAC,EAAE,WAAW;AAAA,8BAC1BA,EAAO,CAAC,EAAE,MAAM;AAAA,eAE9C,CAAK,EACA,MAAM,SAAUK,EAAO,CACtBC,GACN,CAAK,EACA,QAAQ,UAAY,CACnBV,EAAYH,EAAQ,EAAK,EACzBG,EAAYJ,EAAU,EAAI,EAC1BI,EAAYF,EAAS,EAAI,CAC/B,CAAK,CACL,CAEA,SAASY,GAAU,CACjBK,EAAS,MAAM,CACb,MAAO,WACP,QAAS,gDACT,SAAU,WACd,CAAG,CACH,CAEAnB,EAAS,iBAAiB,SAAUe,CAAY,EAChDR,EAAgB"}